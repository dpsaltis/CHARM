<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CHARM: charm Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CHARM
   &#160;<span id="projectnumber">2.1</span>
   </div>
   <div id="projectbrief">CHaracterization Algorithm for Radius Measurements</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('namespacecharm.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">charm Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Python scipt to characterize a black-hole image This version finds first the center of the image and does not invoke any filtering.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5607b264551d2edebff8f7491a53e838"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecharm.html#a5607b264551d2edebff8f7491a53e838">zcr</a> (x, y)</td></tr>
<tr class="memdesc:a5607b264551d2edebff8f7491a53e838"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds zero crossings.  <a href="#a5607b264551d2edebff8f7491a53e838">More...</a><br /></td></tr>
<tr class="separator:a5607b264551d2edebff8f7491a53e838"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a033b21f5f3466dba63640f1884bc0fb1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecharm.html#a033b21f5f3466dba63640f1884bc0fb1">findcenter</a> (Npixels, X, Y, ImageFilter, Dmax=25., ND=50, Ngrid=Ngrid, Nslice=Nslice, iFloor=iFloor, radmin=15)</td></tr>
<tr class="memdesc:a033b21f5f3466dba63640f1884bc0fb1"><td class="mdescLeft">&#160;</td><td class="mdescRight"># Finds the center of the image by minimizing the spread of the radii measured along different azimuthal slices  <a href="#a033b21f5f3466dba63640f1884bc0fb1">More...</a><br /></td></tr>
<tr class="separator:a033b21f5f3466dba63640f1884bc0fb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4361ade65d39e905f4fe1fbef2a6a152"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecharm.html#a4361ade65d39e905f4fe1fbef2a6a152">FilterImage</a> (Npts, X, Y, I, dX, Npadfact=16)</td></tr>
<tr class="memdesc:a4361ade65d39e905f4fe1fbef2a6a152"><td class="mdescLeft">&#160;</td><td class="mdescRight">(In principle) filters an image and returns its visibility map  <a href="#a4361ade65d39e905f4fe1fbef2a6a152">More...</a><br /></td></tr>
<tr class="separator:a4361ade65d39e905f4fe1fbef2a6a152"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4a4aecd11782c79b28e743b038894b6"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecharm.html#ab4a4aecd11782c79b28e743b038894b6">ImageParams</a> (Npixels, X, Y, ImageFilter, d0X=d0X, d0Y=d0Y, Ngrid=Ngrid, Nslice=Nslice, iFloor=iFloor, radmin=5.)</td></tr>
<tr class="memdesc:ab4a4aecd11782c79b28e743b038894b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Measures the diameter and FWHM of a ring-like image.  <a href="#ab4a4aecd11782c79b28e743b038894b6">More...</a><br /></td></tr>
<tr class="separator:ab4a4aecd11782c79b28e743b038894b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af661e8a1e79e9d287bbd932dfb08ad61"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecharm.html#af661e8a1e79e9d287bbd932dfb08ad61">char_image</a> (label, movieframe, Npixels, X, Y, I)</td></tr>
<tr class="memdesc:af661e8a1e79e9d287bbd932dfb08ad61"><td class="mdescLeft">&#160;</td><td class="mdescRight">function char_image(label,movieframe,Npixels, X,Y,I)  <a href="#af661e8a1e79e9d287bbd932dfb08ad61">More...</a><br /></td></tr>
<tr class="separator:af661e8a1e79e9d287bbd932dfb08ad61"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a74d486e7ec4620488934984082bba12a"><td class="memItemLeft" align="right" valign="top"><a id="a74d486e7ec4620488934984082bba12a"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>d0X</b> = 0.0</td></tr>
<tr class="separator:a74d486e7ec4620488934984082bba12a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb4790352700b5eed1f0468a5bf875bf"><td class="memItemLeft" align="right" valign="top"><a id="afb4790352700b5eed1f0468a5bf875bf"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>d0Y</b> = 0.0</td></tr>
<tr class="separator:afb4790352700b5eed1f0468a5bf875bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86b62e26592963beccfe23b7fc27c6cf"><td class="memItemLeft" align="right" valign="top"><a id="a86b62e26592963beccfe23b7fc27c6cf"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>convert</b> = 1./206.26</td></tr>
<tr class="separator:a86b62e26592963beccfe23b7fc27c6cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a056a46ed88ece0b47c3cb2b8e11ce21f"><td class="memItemLeft" align="right" valign="top"><a id="a056a46ed88ece0b47c3cb2b8e11ce21f"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>RadMax</b> = 50.0</td></tr>
<tr class="separator:a056a46ed88ece0b47c3cb2b8e11ce21f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a58951c597432610049813907cc4305"><td class="memItemLeft" align="right" valign="top"><a id="a3a58951c597432610049813907cc4305"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>Ngrid</b> = 256</td></tr>
<tr class="separator:a3a58951c597432610049813907cc4305"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a080a78d6a6b376fd8978d8d665113740"><td class="memItemLeft" align="right" valign="top"><a id="a080a78d6a6b376fd8978d8d665113740"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>Nslice</b> = 128</td></tr>
<tr class="separator:a080a78d6a6b376fd8978d8d665113740"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4313cb34b067d36f49ce9bdd81bb6eb5"><td class="memItemLeft" align="right" valign="top"><a id="a4313cb34b067d36f49ce9bdd81bb6eb5"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>iFloor</b> = 0.01</td></tr>
<tr class="separator:a4313cb34b067d36f49ce9bdd81bb6eb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83005a8fee8e5caaf1126e17e5a30c7a"><td class="memItemLeft" align="right" valign="top"><a id="a83005a8fee8e5caaf1126e17e5a30c7a"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>listoffiles</b> = [x for x in os.listdir(path) if ((x.endswith(&quot;.fits&quot;)))]</td></tr>
<tr class="separator:a83005a8fee8e5caaf1126e17e5a30c7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a750b5d744c39a06bfb13e6eb010e35d0"><td class="memItemLeft" align="right" valign="top"><a id="a750b5d744c39a06bfb13e6eb010e35d0"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>index</b> = 1</td></tr>
<tr class="separator:a750b5d744c39a06bfb13e6eb010e35d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39bf99cca1e152f715cc20dffd261ead"><td class="memItemLeft" align="right" valign="top"><a id="a39bf99cca1e152f715cc20dffd261ead"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>hdulist</b> = fits.open(path+file_name)</td></tr>
<tr class="separator:a39bf99cca1e152f715cc20dffd261ead"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acab07a969db3493dffcc4db737d4fb74"><td class="memItemLeft" align="right" valign="top"><a id="acab07a969db3493dffcc4db737d4fb74"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>hdu</b> = hdulist[0]</td></tr>
<tr class="separator:acab07a969db3493dffcc4db737d4fb74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41ab4b8b4e6b05e8489555b1bbc7f845"><td class="memItemLeft" align="right" valign="top"><a id="a41ab4b8b4e6b05e8489555b1bbc7f845"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>array</b> = hdu.data</td></tr>
<tr class="separator:a41ab4b8b4e6b05e8489555b1bbc7f845"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a662c6bbf976045a82c97b6ee9a4fb584"><td class="memItemLeft" align="right" valign="top"><a id="a662c6bbf976045a82c97b6ee9a4fb584"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>pixel</b> = np.abs(hdu.header['CDELT1'])*3.6e9</td></tr>
<tr class="separator:a662c6bbf976045a82c97b6ee9a4fb584"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93a4b79b87861da31e2c366510535a95"><td class="memItemLeft" align="right" valign="top"><a id="a93a4b79b87861da31e2c366510535a95"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Npts</b> = np.shape(array)[0]</td></tr>
<tr class="separator:a93a4b79b87861da31e2c366510535a95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc34245cc1b43c609c08790cf26ecebb"><td class="memItemLeft" align="right" valign="top"><a id="acc34245cc1b43c609c08790cf26ecebb"></a>
tuple&#160;</td><td class="memItemRight" valign="bottom"><b>FOV</b> = (np.float(Npts-1))*pixel</td></tr>
<tr class="separator:acc34245cc1b43c609c08790cf26ecebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac51b57a703ba1c5869228690c93e1701"><td class="memItemLeft" align="right" valign="top"><a id="ac51b57a703ba1c5869228690c93e1701"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>X</b> = np.linspace(-FOV/2,FOV/2,num=Npts,endpoint=True)</td></tr>
<tr class="separator:ac51b57a703ba1c5869228690c93e1701"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0867f43e27585e019c13f7f4b7c4ab6b"><td class="memItemLeft" align="right" valign="top"><a id="a0867f43e27585e019c13f7f4b7c4ab6b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Y</b> = np.linspace(-FOV/2,FOV/2,num=Npts,endpoint=True)</td></tr>
<tr class="separator:a0867f43e27585e019c13f7f4b7c4ab6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66cc12e3c6d68de3fef6de89cf033f67"><td class="memItemLeft" align="right" valign="top"><a id="a66cc12e3c6d68de3fef6de89cf033f67"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>I</b> = array</td></tr>
<tr class="separator:a66cc12e3c6d68de3fef6de89cf033f67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa97ea574f414535a926d0435057b7c2d"><td class="memItemLeft" align="right" valign="top"><a id="aa97ea574f414535a926d0435057b7c2d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>label1</b> = file_name.replace('_',' ')</td></tr>
<tr class="separator:aa97ea574f414535a926d0435057b7c2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22f45a3cb4f074e609f58ebaeef0ecf9"><td class="memItemLeft" align="right" valign="top"><a id="a22f45a3cb4f074e609f58ebaeef0ecf9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>label</b> = label1.replace('.fits','')</td></tr>
<tr class="separator:a22f45a3cb4f074e609f58ebaeef0ecf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ef879b9d6d5a3e2677a977faff2600e"><td class="memItemLeft" align="right" valign="top"><a id="a6ef879b9d6d5a3e2677a977faff2600e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>movieframe</b> = str(index).zfill(4)</td></tr>
<tr class="separator:a6ef879b9d6d5a3e2677a977faff2600e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23d0c7d8c59aa5bf202e86e0ee3d97f7"><td class="memItemLeft" align="right" valign="top"><a id="a23d0c7d8c59aa5bf202e86e0ee3d97f7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>rad25</b></td></tr>
<tr class="separator:a23d0c7d8c59aa5bf202e86e0ee3d97f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8655e939d936a6038060bdde34180805"><td class="memItemLeft" align="right" valign="top"><a id="a8655e939d936a6038060bdde34180805"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>rad50</b></td></tr>
<tr class="separator:a8655e939d936a6038060bdde34180805"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e9fa04f7279c687f05271736d6e70fe"><td class="memItemLeft" align="right" valign="top"><a id="a8e9fa04f7279c687f05271736d6e70fe"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>rad75</b></td></tr>
<tr class="separator:a8e9fa04f7279c687f05271736d6e70fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69438d054af68ffa0472d36dbe81ac09"><td class="memItemLeft" align="right" valign="top"><a id="a69438d054af68ffa0472d36dbe81ac09"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>FWHM25</b></td></tr>
<tr class="separator:a69438d054af68ffa0472d36dbe81ac09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8107da40bae0b955292e5511466fd5c"><td class="memItemLeft" align="right" valign="top"><a id="af8107da40bae0b955292e5511466fd5c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>FWHM50</b></td></tr>
<tr class="separator:af8107da40bae0b955292e5511466fd5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2133619b884a07f3c5f90c799fa7266"><td class="memItemLeft" align="right" valign="top"><a id="ad2133619b884a07f3c5f90c799fa7266"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>FWHM75</b></td></tr>
<tr class="separator:ad2133619b884a07f3c5f90c799fa7266"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef3542da00326419291c6772efe6998e"><td class="memItemLeft" align="right" valign="top"><a id="aef3542da00326419291c6772efe6998e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>fracCirc</b></td></tr>
<tr class="separator:aef3542da00326419291c6772efe6998e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23c6d9e9ae354f66e17cfec2b85f8dfb"><td class="memItemLeft" align="right" valign="top"><a id="a23c6d9e9ae354f66e17cfec2b85f8dfb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>zFirstHor</b></td></tr>
<tr class="separator:a23c6d9e9ae354f66e17cfec2b85f8dfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a111efd88a9a0015a8d28f30a5acdef25"><td class="memItemLeft" align="right" valign="top"><a id="a111efd88a9a0015a8d28f30a5acdef25"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>zFirstVer</b></td></tr>
<tr class="separator:a111efd88a9a0015a8d28f30a5acdef25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9536fc38328f2f680ec1a025fb0b9d2b"><td class="memItemLeft" align="right" valign="top"><a id="a9536fc38328f2f680ec1a025fb0b9d2b"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>listResults</b> = [file_name, 2.*rad50, 2.*rad25, 2.*rad75, FWHM50, FWHM25, FWHM75,fracCirc,zFirstHor,zFirstVer]</td></tr>
<tr class="separator:a9536fc38328f2f680ec1a025fb0b9d2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ea9f0fea01c343478673df67737695d"><td class="memItemLeft" align="right" valign="top"><a id="a2ea9f0fea01c343478673df67737695d"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>res</b> = &quot; &quot;.join([str(i) for i in listResults])</td></tr>
<tr class="separator:a2ea9f0fea01c343478673df67737695d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Python scipt to characterize a black-hole image This version finds first the center of the image and does not invoke any filtering. </p>
<dl class="section author"><dt>Author</dt><dd>UofA Group</dd></dl>
<dl class="section version"><dt>Version</dt><dd>2.1</dd></dl>
<dl class="section date"><dt>Date</dt><dd>October 19, 2021</dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000001">Bug:</a></b></dt><dd>No known bugs</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>No known warnings</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>Nothing left </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="af661e8a1e79e9d287bbd932dfb08ad61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af661e8a1e79e9d287bbd932dfb08ad61">&#9670;&nbsp;</a></span>char_image()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def charm.char_image </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>label</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>movieframe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Npixels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>I</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function char_image(label,movieframe,Npixels, X,Y,I) </p>
<p>main function to characterize an image of Npixels by Npixels, stored in the 2D array I, with horizontal and vertical coordinates stored in arrays X and Y. Image characterization subroutine</p>
<p>Given a square image of Npixels per side, with coordinates in X and Y, and brightness in I, this subroutine first filters the image (not in this script), find its center, measures the distribution of "radii" and "widths" for a grid of Nslice azimuthal slices, and plots all of the above together with two cross section of the visibility map of the image.</p>
<p>Besides returning a lot of these parameters, it also generates a 6-panel diagnostic plot, labeled with the input stirng 'label'.</p>
<p>The plot is saved as a PNG file with name movieframe+".png" If 'movieframe' corresponds to an increasing integer, the resulting files can be easily combined into a movie with ffmpeg.</p>
<p>@label a string to be placed on the image, for recongition @movieframe a string for the name of the plot file </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Npixels</td><td>the number of points per dimension (assuming square image) </td></tr>
    <tr><td class="paramname">X</td><td>a 1D array of Npts points with the X-coordinates </td></tr>
    <tr><td class="paramname">Y</td><td>a 1D array of Npts points with the Y-coordinates </td></tr>
    <tr><td class="paramname">I</td><td>a 2D array of Npts*Npts points with the image brightness</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>rad25 a float with the 25th percentile value of the radius </dd>
<dd>
rad50 a float with the 50th percentile value of the radius </dd>
<dd>
rad75 a float with the 75th percentile value of the radius </dd>
<dd>
FWHM25 a float with the 25th percentile value of the FWHM </dd>
<dd>
FWHM05 a float with the 50th percentile value of the FWHM </dd>
<dd>
FWHM75 a float with the 75th percentile value of the FWHM </dd>
<dd>
fracCirc a float with the fraction of pi with brightness above the floor </dd>
<dd>
zFirstHor the baseline length of the first horizontal visibility minimum in Glambda </dd>
<dd>
zFirstVer the baseline length of the first vertical visibility minimum in Glambda</dd>
<dd>
nothing</dd></dl>
<dl class="section author"><dt>Author</dt><dd>UofA Group</dd></dl>
<dl class="section version"><dt>Version</dt><dd>2.1</dd></dl>
<dl class="section date"><dt>Date</dt><dd>October 22, 2021</dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000007">Bug:</a></b></dt><dd>No known bugs</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>No known warnings</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000007">Todo:</a></b></dt><dd>Nothing left </dd></dl>

</div>
</div>
<a id="a4361ade65d39e905f4fe1fbef2a6a152"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4361ade65d39e905f4fe1fbef2a6a152">&#9670;&nbsp;</a></span>FilterImage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def charm.FilterImage </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Npts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>I</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Npadfact</em> = <code>16</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>(In principle) filters an image and returns its visibility map </p>
<p>For this version of the script, there is no filtering.</p>
<p>Given a square image of Npts per side, with coordinates in X and Y and brightness in I, the subroutine just returns the visibility map of the image.</p>
<p>Npadfact is the multiplicative padding factor for calculating the 2D Fourier transform of the image with default Npadfact=16</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Npts</td><td>the number of points per dimension (assuming square image) </td></tr>
    <tr><td class="paramname">X</td><td>a 1D array of Npts points with the X-coordinates </td></tr>
    <tr><td class="paramname">Y</td><td>a 1D array of Npts points with the Y-coordinates </td></tr>
    <tr><td class="paramname">I</td><td>a 2D array of Npts*Npts points with the image brightness </td></tr>
    <tr><td class="paramname">dX</td><td>a float with the pixel width in uas</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>FilterImage a 2D Npts*Npts array with the filtered image </dd>
<dd>
uGrid a 2D Npts*Npts array with the u-coordinate grid in Glambda </dd>
<dd>
vGrid a 2D Npts*Npts array with the v-coordinate grid in Glambda </dd>
<dd>
Visibility a 2D Npts*Npts array with the complex Visibility</dd></dl>
<dl class="section author"><dt>Author</dt><dd>UofA Group</dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0</dd></dl>
<dl class="section date"><dt>Date</dt><dd>September 13, 2018</dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000005">Bug:</a></b></dt><dd>No known bugs</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>No known warnings</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000005">Todo:</a></b></dt><dd>Nothing left </dd></dl>

</div>
</div>
<a id="a033b21f5f3466dba63640f1884bc0fb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a033b21f5f3466dba63640f1884bc0fb1">&#9670;&nbsp;</a></span>findcenter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def charm.findcenter </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Npixels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ImageFilter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Dmax</em> = <code>25.</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ND</em> = <code>50</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Ngrid</em> = <code>Ngrid</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Nslice</em> = <code>Nslice</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>iFloor</em> = <code>iFloor</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>radmin</em> = <code>15</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p># Finds the center of the image by minimizing the spread of the radii measured along different azimuthal slices </p>
<p>Given a square image of Npixels per side, with coordinates in X and Y and brightness in ImageFilter, it finds its center by searching through a square grid of NDxND points in the range [-Dmax,Dmax] along each orientation. The two parameters are inputs but defaults are Dmax=25 and ND=50.</p>
<p>The remaining default parameters are from the global variables.</p>
<p>In this version of the script, there is no image filtering; any mention of fitering is for compatibility with other script versions.</p>
<p>All image coordinates and distances are in the native units of the image provided.</p>
<p>v2.0 There is now a minimum radius requirement for the ring stored in 'radmin'. Introducing this ensures that the algorithm doesn't focus on compact knots. This value can be different between the centering and the characterization function, with the former typically being larger.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Npixels</td><td>the number of points per dimension (assuming square image) </td></tr>
    <tr><td class="paramname">X</td><td>a 1D array of Npts points with the X-coordinates </td></tr>
    <tr><td class="paramname">Y</td><td>a 1D array of Npts points with the Y-coordinates </td></tr>
    <tr><td class="paramname">ImageFilter</td><td>a 2D array of Npts*Npts points with the image brightness</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>d0X a float with the x-displacement of the center </dd>
<dd>
d0Y a float with the y-displacement of the center</dd></dl>
<dl class="section author"><dt>Author</dt><dd>UofA Group</dd></dl>
<dl class="section version"><dt>Version</dt><dd>2.0</dd></dl>
<dl class="section date"><dt>Date</dt><dd>October 19, 2021</dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000004">Bug:</a></b></dt><dd>No known bugs</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>No known warnings</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000004">Todo:</a></b></dt><dd>Nothing left</dd></dl>

</div>
</div>
<a id="ab4a4aecd11782c79b28e743b038894b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4a4aecd11782c79b28e743b038894b6">&#9670;&nbsp;</a></span>ImageParams()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def charm.ImageParams </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Npixels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ImageFilter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>d0X</em> = <code>d0X</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>d0Y</em> = <code>d0Y</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Ngrid</em> = <code>Ngrid</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Nslice</em> = <code>Nslice</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>iFloor</em> = <code>iFloor</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>radmin</em> = <code>5.</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Measures the diameter and FWHM of a ring-like image. </p>
<p>Given a square image of Npixels per side, with coordinates in X and Y, brightness in ImageFilter, and image center at d0X and d0Y, measures the distribution of "radii" and "widths" of the image for a grid of Nslice azimuthal slices with a distance up to RadMax</p>
<p>It only considers slices for which the max brightness is larger than iFloor*ifilterMax, which is important for, e.g., CLEAN images that have a substantial central floor.</p>
<p>v2.0 There is now a minimum radius requirement for the ring stored in 'radmin'. Introducing this ensures that the algorithm doesn't focus on compact knots. This value can be different between the centering and the characterization function, with the former typically being larger.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Npixels</td><td>the number of points per dimension (assuming square image) </td></tr>
    <tr><td class="paramname">X</td><td>a 1D array of Npts points with the X-coordinates </td></tr>
    <tr><td class="paramname">Y</td><td>a 1D array of Npts points with the Y-coordinates </td></tr>
    <tr><td class="paramname">ImageFilter</td><td>a 2D array of Npts*Npts points with the image brightness </td></tr>
    <tr><td class="paramname">d0X</td><td>a float with the x-displacement of the center </td></tr>
    <tr><td class="paramname">d0Y</td><td>a float with the y-displacement of the center</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>sliceangle a 1D array with the angles (from horizontal) of the slices </dd>
<dd>
radii a 1D array with the peak brightness radii of the individual slices </dd>
<dd>
radiusL a 1D array with the radius of the half point on the left </dd>
<dd>
radiusR a 1D array with the radius of the half point on the right</dd></dl>
<dl class="section author"><dt>Author</dt><dd>UofA Group</dd></dl>
<dl class="section version"><dt>Version</dt><dd>2.0</dd></dl>
<dl class="section date"><dt>Date</dt><dd>October 19, 2021</dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000006">Bug:</a></b></dt><dd>No known bugs</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>No known warnings</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000006">Todo:</a></b></dt><dd>Nothing left </dd></dl>

</div>
</div>
<a id="a5607b264551d2edebff8f7491a53e838"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5607b264551d2edebff8f7491a53e838">&#9670;&nbsp;</a></span>zcr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def charm.zcr </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds zero crossings. </p>
<p>Given two arrays of the x- and y- coordinates of a function it returns an array of the x-coodinates of the zero crossings</p>
<p>the x-coordinates are assumed to be in order</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>a float array with the x-coodinates </td></tr>
    <tr><td class="paramname">y</td><td>a float array with the y-coordinates</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a float array with the locations of the zero crossings</dd></dl>
<dl class="section author"><dt>Author</dt><dd>UofA Group</dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0</dd></dl>
<dl class="section date"><dt>Date</dt><dd>September 13, 2018</dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000003">Bug:</a></b></dt><dd>No known bugs</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>No known warnings</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd>Nothing left </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacecharm.html">charm</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
